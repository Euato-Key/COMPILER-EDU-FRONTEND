# 基础概念

在深入学习编译原理算法之前，我们需要了解一些基础概念和术语。

## 词法分析基础

### 词法单元 (Token)

词法单元是词法分析器输出的基本单位，每个词法单元包含：

- **类型** - 标识符、关键字、运算符等
- **值** - 具体的字符串内容
- **位置** - 在源代码中的位置信息

### 正则表达式

正则表达式是描述字符串模式的形式化方法，常用的操作符包括：

- `*` - 零个或多个重复
- `+` - 一个或多个重复
- `?` - 零个或一个
- `|` - 选择
- `()` - 分组

**示例：**
```
(a|b)*abb
```
这个正则表达式表示：任意数量的 `a` 或 `b`，后跟 `abb`。

## 语法分析基础

### 上下文无关文法 (CFG)

上下文无关文法由四个部分组成：

1. **终结符集合** - 不能再被推导的符号
2. **非终结符集合** - 可以被推导的符号
3. **产生式集合** - 推导规则
4. **开始符号** - 推导的起始点

**示例文法：**
```
E → E + T | T
T → T * F | F
F → (E) | id
```

### 语法树

语法树是文法推导过程的树形表示：

```
    E
   /|\
  E + T
  |   |
  T   F
  |   |
  F   id
  |
  id
```

## 有限自动机

### 确定有限自动机 (DFA)

DFA是一个五元组 `(Q, Σ, δ, q₀, F)`：

- **Q** - 状态集合
- **Σ** - 输入字母表
- **δ** - 状态转换函数
- **q₀** - 初始状态
- **F** - 接受状态集合

### 非确定有限自动机 (NFA)

NFA与DFA的主要区别是：

- 可以有多个转换到不同状态
- 允许ε转换（空转换）
- 转换函数返回状态集合

## 语法分析算法

### 自顶向下分析

从开始符号开始，逐步推导到输入串：

- **递归下降分析**
- **LL(1)分析**
- **预测分析**

### 自底向上分析

从输入串开始，逐步归约到开始符号：

- **LR(0)分析**
- **SLR(1)分析**
- **LR(1)分析**

## 重要集合

### First集

对于非终结符A，First(A)包含所有可能出现在A推导结果开头的终结符。

**计算规则：**
1. 如果A → aα，则a ∈ First(A)
2. 如果A → ε，则ε ∈ First(A)
3. 如果A → Bα且ε ∈ First(B)，则First(B) - {ε} ⊆ First(A)

### Follow集

对于非终结符A，Follow(A)包含所有可能出现在A后面的终结符。

**计算规则：**
1. 如果S是开始符号，则$ ∈ Follow(S)
2. 如果A → αBβ，则First(β) - {ε} ⊆ Follow(B)
3. 如果A → αB或A → αBβ且ε ∈ First(β)，则Follow(A) ⊆ Follow(B)

## 分析表

### LL(1)分析表

LL(1)分析表是一个二维表格，行是非终结符，列是终结符：

| 非终结符 | a | b | $ |
|----------|---|---|---|
| E | E→TE' | E→TE' |  |
| E' |  | E'→+TE' | E'→ε |
| T | T→FT' | T→FT' |  |

### LR分析表

LR分析表包含动作表和转移表：

**动作表：**
| 状态 | a | b | $ |
|------|---|---|---|
| 0 | s3 | s4 |  |
| 1 |  |  | acc |
| 2 | r2 | r2 | r2 |

**转移表：**
| 状态 | E | T | F |
|------|---|---|---|
| 0 | 1 | 2 |  |
| 1 |  |  |  |
| 2 |  |  |  |

## 错误处理

### 词法错误

- 非法字符
- 未闭合的字符串
- 数字格式错误

### 语法错误

- 缺少分号
- 括号不匹配
- 语法结构错误

### 恢复策略

1. **紧急模式恢复** - 跳过符号直到同步标记
2. **短语级恢复** - 局部修正错误
3. **错误产生式** - 添加错误处理产生式

## 总结

这些基础概念是理解编译原理算法的前提。在实际学习中，您将看到这些概念如何被应用到具体的算法中，并通过可视化工具更好地理解它们的工作原理。

建议您：

1. 熟练掌握正则表达式的写法
2. 理解文法的基本概念
3. 掌握First集和Follow集的计算方法
4. 学会阅读和使用分析表

接下来，您可以选择感兴趣的具体算法进行深入学习。 