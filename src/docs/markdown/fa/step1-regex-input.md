# 第一步：正则表达式输入

欢迎来到有限自动机学习的第一步！在这一步中，您将学习如何输入和验证正则表达式，这是构建有限自动机的基础。

## 📝 输入规则与限制

### 支持的字符

**基本字符**：
- ASCII可显示字符（编号32-126）：字母、数字、标点符号等
- 特殊字符：`ε`（空串）、`•`（连接运算符）

**不支持**：
- 中文字符
- 空格（会被自动忽略）

### 支持的运算符

本系统仅支持以下四种基本运算符：

| 运算符 | 名称 | 说明 | 示例 |
|--------|------|------|------|
| `•` | 连接运算符 | 可省略不写 | `ab` 等同于 `a•b` |
| `\|` | 或运算符 | 表示多个选择 | `a\|b` 表示匹配 a 或 b |
| `*` | 闭包运算符 | 前面元素可出现0次或多次 | `a*` 表示0个或多个 a |
| `()` | 辅助括号 | 改变运算优先级 | `(a\|b)•c` |

**运算优先级**：括号内的表达式 > 闭包运算符 `*` > 连接运算符 `•` > 或运算符 `|`

### 输入限制

<div style="border: 2px solid #ef4444; border-radius: 8px; padding: 1rem; background: #fef2f2; margin: 1rem 0;">
  <h4 style="color: #dc2626; margin: 0 0 0.5rem 0;">⚠️ 重要限制</h4>
  <ul style="margin: 0; color: #374151;">
    <li><strong>不支持中文字符</strong>：只能输入ASCII字符</li>
    <li><strong>不支持 a+ 形式</strong>：请用户自行转换为 aa* 的形式</li>
    <li><strong>不允许连续操作符</strong>：`||`、`**`、`••` 都是无效的</li>
    <li><strong>不能以操作符开头</strong>：`|`、`*`、`•` 不能出现在开头</li>
    <li><strong>不能以操作符结尾</strong>：`|`、`•` 不能出现在结尾</li>
    <li><strong>括号必须匹配</strong>：左括号和右括号数量必须相等</li>
  </ul>
</div>

### 常见错误示例

| 错误输入 | 错误原因 | 正确写法 |
|---------|---------|---------|
| `a\|\|b` | 连续操作符 | `a\|b` |
| `a**` | 连续操作符 | `a*` |
| `a••b` | 连续操作符 | `a•b` 或 `ab` |
| `\|ab` | 以操作符开头 | `ab` |
| `ab\|` | 以操作符结尾 | `ab` |
| `(a\|b` | 括号不匹配 | `(a\|b)` |
| `a+` | 不支持+操作符 | `aa*` |
| `中文` | 不支持中文字符 | 使用ASCII字符 |

## 🧠 理论基础

### 正则表达式的形式化定义

正则表达式是描述正则语言的数学工具，具有以下递归定义：

- **基本字符**：单个字符 a
- **空串**：ε
- **连接**：r₁r₂（r₁后跟r₂）
- **选择**：r₁|r₂（r₁或r₂）
- **闭包**：r*（r的零次或多次重复）

### 运算符语义

- **连接 `•`**：L(r₁•r₂) = L(r₁)L(r₂)
- **选择 `|`**：L(r₁|r₂) = L(r₁) ∪ L(r₂)
- **闭包 `*`**：L(r*) = {ε} ∪ L(r) ∪ L(rr) ∪ L(rrr) ∪ ...

## 📖 示例演示

### 示例1：基本操作

**目标**：描述所有由a和b组成的字符串

**解答**：`(a|b)*`

**验证**：
- 空串：ε ✓
- 单个字符：a, b ✓
- 多个字符：ab, ba, aab ✓

### 示例2：特定模式

**目标**：描述以"abb"结尾的字符串

**解答**：`(a|b)*abb`

**验证**：
- `abb`：ε + abb ✓
- `aabb`：a + abb ✓
- `bababb`：bab + abb ✓

### 示例3：数字识别

**目标**：识别正整数

**解答**：`(1|2|3|4|5|6|7|8|9)(0|1|2|3|4|5|6|7|8|9)*`

**注意**：这里展示了如何用基本运算符表示复杂的模式

## 🔧 操作指南

### 使用步骤

1. **输入正则表达式**：在输入框中输入符合规则的正则表达式
2. **验证输入**：点击"验证正则"按钮检查正确性
3. **查看结果**：系统会显示验证结果和错误提示
4. **使用示例**：点击快速示例按钮尝试预设表达式
5. **重新开始**：点击"清空"按钮重新输入

### 快速示例

系统提供以下常用示例：

- `(a|b)*abb`：以abb结尾的字符串
- `(a|b)*a(a|b)`：倒数第二个字符是a
- `(0|1)*101`：二进制数以101结尾
- `ab*c`：a后跟零个或多个b再跟c
- `a(a|b)*`：a开头后跟任意a或b

## 💡 学习建议

### 构造技巧

1. **从简单开始**：先构造基本模式，再逐步复杂化
2. **使用括号**：当优先级不明确时，使用括号明确表达
3. **分步构造**：将复杂表达式分解为简单部分
4. **验证测试**：用具体例子验证表达式的正确性

### 常见误区

- **忽视限制**：不注意系统的输入限制
- **使用不支持的运算符**：如 a+ 形式
- **连续操作符**：如 a||b 或 a**
- **括号不匹配**：左括号和右括号数量不等

## 📚 下一步

完成这一步后，您将进入：

**第二步：NFA构造**
- 学习NFA构造法
- 将正则表达式转换为非确定有限自动机
- 在交互式画布上绘制NFA

现在，请在输入框中尝试输入一个正则表达式，开始您的学习之旅吧！ 